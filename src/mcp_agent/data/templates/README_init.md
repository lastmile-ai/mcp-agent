# MCP-Agent Starter

Welcome! This project was generated by `mcp-agent init` and includes a small set
of tools that demonstrate the basics of MCP-Agent:

- A simple Agent that uses MCP servers and an LLM (`finder_tool`)
- Synchronous and asynchronous tools (`greet`, `reverse_async`)
- Notifications/logging (`notify`)
- Elicitation (user confirmation) (`confirm_action`)
- Sampling with request parameters (`sample_haiku`)
- Loading AgentSpec definitions from config and running them (`agent_catalog`, `run_agent`)

## Quick Start

1) Add your API keys to `mcp_agent.secrets.yaml` (or environment variables):

   - `OPENAI_API_KEY` (recommended)
   - `ANTHROPIC_API_KEY` (optional)

2) Review `mcp_agent.config.yaml`. It defines:

   - Execution engine (default: `asyncio`)
   - Logger settings
   - MCP servers (like `filesystem`, `fetch`)
   - Optional `agents.definitions` used by the `run_agent` tool

3) Run locally:

```bash
uv run main.py
```

Or develop with the dev CLI:

```bash
mcp-agent dev chat
# or
mcp-agent dev serve --script main.py
```

## Tools Overview

All tools are defined in `main.py` using the `@app.tool` or `@app.async_tool` decorators.
Each tool is strongly typed and accepts an optional `app_ctx` parameter to access the
MCPApp context at runtime (e.g., logging, upstream session, config).

- `finder_tool(request: str)`
  - Demonstrates Agent behavior. Creates an Agent with `filesystem` and `fetch`, attaches an LLM, and answers the request.

- `agent_catalog()`
  - Lists agent names defined in `mcp_agent.config.yaml` under `agents.definitions`.

- `run_agent(agent_name: str, prompt: str)`
  - Instantiates an Agent from `agents.definitions` and runs an LLM call.

- `greet(name: str)`
  - Minimal synchronous tool that logs a message and returns a greeting.

- `notify(message: str, level: Literal["debug","info","warning","error"])`
  - Demonstrates upstream logging/notifications using the app logger.

- `confirm_action(action: str)`
  - Demonstrates elicitation. When connected to an MCP client, the user is prompted for confirmation.

- `sample_haiku(topic: str)`
  - Demonstrates LLM sampling by constructing RequestParams and calling an LLM.

- `reverse_async(text: str)`
  - Simple asynchronous tool that reverses the input string.

## Contexts

- `app_ctx`: MCPApp Context (configuration, logger, upstream session, etc.)
- `ctx`/`mcp_ctx`: FastMCP tool context (provided by the FastMCP server runtime), included for advanced use.

## Where to next?

- Explore configuration in `mcp_agent.config.yaml` and add more MCP servers.
- Extend `agents.definitions` with more AgentSpec entries.
- Add new tools using `@app.tool` or `@app.async_tool`.

Happy building!

